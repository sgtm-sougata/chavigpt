{"version":3,"file":"_page.svelte-a604e6a4.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/settings/_...model_/_page.svelte.js"],"sourcesContent":["import { s as subscribe, a as set_store_value } from \"../../../../chunks/boolean_attributes.js\";\nimport { c as create_ssr_component, a as spread, e as escape_object, f as escape, d as add_attribute, v as validate_component } from \"../../../../chunks/ssr.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { b as base } from \"../../../../chunks/paths.js\";\nimport { u as useSettingsStore } from \"../../../../chunks/settings2.js\";\nimport { A as Arrow_up_right, C as CopyToClipBoardBtn } from \"../../../../chunks/CopyToClipBoardBtn.js\";\nconst Link = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<svg${spread(\n    [\n      { viewBox: \"0 0 32 32\" },\n      { width: \"1.2em\" },\n      { height: \"1.2em\" },\n      escape_object($$props)\n    ],\n    {}\n  )}><!-- HTML_TAG_START -->${`<path fill=\"currentColor\" d=\"M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48Z\"/><path fill=\"currentColor\" d=\"M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0Z\"/>`}<!-- HTML_TAG_END --></svg>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let hasCustomPreprompt;\n  let isActive;\n  let model;\n  let $page, $$unsubscribe_page;\n  let $settings, $$unsubscribe_settings;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  const settings = useSettingsStore();\n  $$unsubscribe_settings = subscribe(settings, (value) => $settings = value);\n  {\n    if ($settings.customPrompts[$page.params.model] === void 0) {\n      set_store_value(\n        settings,\n        $settings.customPrompts = {\n          ...$settings.customPrompts,\n          [$page.params.model]: $page.data.models.find((el) => el.id === $page.params.model)?.preprompt || \"\"\n        },\n        $settings\n      );\n    }\n  }\n  hasCustomPreprompt = $settings.customPrompts[$page.params.model] !== $page.data.models.find((el) => el.id === $page.params.model)?.preprompt;\n  isActive = $settings.activeModel === $page.params.model;\n  model = $page.data.models.find((el) => el.id === $page.params.model);\n  $$unsubscribe_page();\n  $$unsubscribe_settings();\n  return `<div class=\"flex flex-col items-start\"><div class=\"mb-5 flex flex-col gap-1.5\"><h2 class=\"text-lg font-semibold md:text-xl\">${escape($page.params.model)}</h2> ${model.description ? `<p class=\"text-gray-600\">${escape(model.description)}</p>` : ``}</div> <div class=\"flex flex-wrap items-center gap-2 md:gap-4\"><a${add_attribute(\"href\", model.modelUrl || \"https://huggingface.co/\" + model.name, 0)} target=\"_blank\" rel=\"noreferrer\" class=\"flex items-center truncate underline underline-offset-2\">${validate_component(Arrow_up_right, \"CarbonArrowUpRight\").$$render($$result, { class: \"mr-1.5 shrink-0 text-xs \" }, {}, {})}\n\t\t\tModel page</a> ${model.datasetName || model.datasetUrl ? `<a${add_attribute(\"href\", model.datasetUrl || \"https://huggingface.co/datasets/\" + model.datasetName, 0)} target=\"_blank\" rel=\"noreferrer\" class=\"flex items-center truncate underline underline-offset-2\">${validate_component(Arrow_up_right, \"CarbonArrowUpRight\").$$render($$result, { class: \"mr-1.5 shrink-0 text-xs \" }, {}, {})}\n\t\t\t\tDataset page</a>` : ``} ${model.websiteUrl ? `<a${add_attribute(\"href\", model.websiteUrl, 0)} target=\"_blank\" class=\"flex items-center truncate underline underline-offset-2\" rel=\"noreferrer\">${validate_component(Arrow_up_right, \"CarbonArrowUpRight\").$$render($$result, { class: \"mr-1.5 shrink-0 text-xs \" }, {}, {})}\n\t\t\t\tModel website</a>` : ``} ${validate_component(CopyToClipBoardBtn, \"CopyToClipBoardBtn\").$$render(\n    $$result,\n    {\n      value: $page.url.origin + base + \"?model=\" + model.id,\n      classNames: \"!border-none !shadow-none !py-0 !px-1 !rounded-md\"\n    },\n    {},\n    {\n      default: () => {\n        return `<div class=\"flex items-center gap-1.5\">${validate_component(Link, \"CarbonLink\").$$render($$result, {}, {}, {})}Copy direct link to model</div>`;\n      }\n    }\n  )}</div> <button class=\"${escape(isActive ? \"bg-gray-100\" : \"bg-black text-white\", true) + \" my-8 flex items-center rounded-full px-3 py-1\"}\" ${isActive ? \"disabled\" : \"\"} name=\"Activate model\">${escape(isActive ? \"Active model\" : \"Activate\")}</button> <div class=\"flex w-full flex-col gap-2\"><div class=\"flex w-full flex-row content-between\"><h3 class=\"mb-1.5 text-lg font-semibold text-gray-800\" data-svelte-h=\"svelte-164tosc\">System Prompt</h3> ${hasCustomPreprompt ? `<button class=\"ml-auto underline decoration-gray-300 hover:decoration-gray-700\" data-svelte-h=\"svelte-1ehlk8p\">Reset</button>` : ``}</div> <textarea rows=\"10\" class=\"w-full resize-none rounded-md border-2 bg-gray-100 p-2\">${escape($settings.customPrompts[$page.params.model] || \"\")}</textarea></div></div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}