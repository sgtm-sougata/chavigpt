{"version":3,"file":"_page.svelte-1aa3fb03.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/conversation/_id_/_page.svelte.js"],"sourcesContent":["import { s as subscribe, a as set_store_value } from \"../../../../chunks/boolean_attributes.js\";\nimport { c as create_ssr_component, f as escape, v as validate_component } from \"../../../../chunks/ssr.js\";\nimport { f as findCurrentModel, p as pendingMessage, w as webSearchParameters, C as ChatWindow } from \"../../../../chunks/pendingMessage.js\";\nimport { i as isAborted, t as titleUpdate } from \"../../../../chunks/titleUpdate.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport \"../../../../chunks/utils.js\";\nimport { e as error } from \"../../../../chunks/errors.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let title;\n  let $page, $$unsubscribe_page;\n  let $isAborted, $$unsubscribe_isAborted;\n  let $$unsubscribe_pendingMessage;\n  let $$unsubscribe_error;\n  let $$unsubscribe_titleUpdate;\n  let $$unsubscribe_webSearchParameters;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  $$unsubscribe_isAborted = subscribe(isAborted, (value) => $isAborted = value);\n  $$unsubscribe_pendingMessage = subscribe(pendingMessage, (value) => value);\n  $$unsubscribe_error = subscribe(error, (value) => value);\n  $$unsubscribe_titleUpdate = subscribe(titleUpdate, (value) => value);\n  $$unsubscribe_webSearchParameters = subscribe(webSearchParameters, (value) => value);\n  let { data } = $$props;\n  let messages = data.messages;\n  let lastLoadedMessages = data.messages;\n  let webSearchMessages = [];\n  let loading = false;\n  let pending = false;\n  let files = [];\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    {\n      if (data.messages !== lastLoadedMessages) {\n        messages = data.messages;\n        lastLoadedMessages = data.messages;\n      }\n    }\n    {\n      $page.params.id, set_store_value(isAborted, $isAborted = true, $isAborted), loading = false;\n    }\n    title = data.conversations.find((conv) => conv.id === $page.params.id)?.title ?? data.title;\n    $$rendered = `${$$result.head += `<!-- HEAD_svelte-626amo_START -->${$$result.title = `<title>${escape(title)}</title>`, \"\"}<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css\" integrity=\"sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn\" crossorigin=\"anonymous\"><!-- HEAD_svelte-626amo_END -->`, \"\"} ${validate_component(ChatWindow, \"ChatWindow\").$$render(\n      $$result,\n      {\n        loading,\n        pending,\n        messages,\n        shared: data.shared,\n        preprompt: data.preprompt,\n        models: data.models,\n        currentModel: findCurrentModel([...data.models, ...data.oldModels], data.model),\n        webSearchMessages,\n        files\n      },\n      {\n        webSearchMessages: ($$value) => {\n          webSearchMessages = $$value;\n          $$settled = false;\n        },\n        files: ($$value) => {\n          files = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`;\n  } while (!$$settled);\n  $$unsubscribe_page();\n  $$unsubscribe_isAborted();\n  $$unsubscribe_pendingMessage();\n  $$unsubscribe_error();\n  $$unsubscribe_titleUpdate();\n  $$unsubscribe_webSearchParameters();\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}