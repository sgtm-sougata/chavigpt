import{w as f,e as d}from"./singletons.87a67235.js";import{a8 as p,_ as u,a9 as l}from"./boolean_attributes.9921dbdc.js";function g(i,s){const o={},r={},a={$$scope:1};let e=i.length;for(;e--;){const t=i[e],c=s[e];if(c){for(const n in t)n in c||(r[n]=1);for(const n in c)a[n]||(o[n]=c[n],a[n]=1);i[e]=c}else for(const n in t)a[n]=1}for(const t in r)t in o||(o[t]=void 0);return o}function m(){return p("settings")}function b(i){const s=f({...i,recentlySaved:!1});let o;async function r(e){s.update(t=>({...t,...e})),clearTimeout(o),o=setTimeout(async()=>{await fetch(`${d}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u(s),...e})}),s.update(t=>({...t,recentlySaved:!0})),setTimeout(()=>{s.update(t=>({...t,recentlySaved:!1}))},3e3)},300)}const a={subscribe:s.subscribe,set:r,update:e=>{r(e(u(s)))}};return l("settings",a),a}export{b as c,g,m as u};
