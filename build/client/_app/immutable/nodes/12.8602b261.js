import{e as oe}from"../chunks/singletons.87a67235.js";import{r as Te}from"../chunks/index.d7eb2526.js";import{s as Ee,x as ie,y as Be,H as xe,z as Ne,l as $,A as Se,g as c,B as ge,i as j,C as Y,D as _e,j as v,p as H,a as D,k as b,q as O,c as T,O as Pe,m as f,F as u,a5 as ve,G as fe,a6 as Ue,r as me,f as y,b as B,d as be,L as Ie,M as $e,W as ne,u as we}from"../chunks/boolean_attributes.9921dbdc.js";import{S as Me,i as De,c as R,a as Z,m as F,d as G}from"../chunks/index.369f2cd8.js";import{p as Ve}from"../chunks/stores.acee8332.js";import{g as He,u as Oe}from"../chunks/settings.b07edce2.js";import{A as ue,C as je}from"../chunks/CopyToClipBoardBtn.94458be3.js";async function ze({parent:r,params:e}){const a=await r(),o=a.models.find(({id:n})=>n===e.model);if(!o||o.unlisted)throw Te(302,`${oe}/settings`);return a}const tt=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));function Le(r){let e,a,o='<path fill="currentColor" d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48Z"/><path fill="currentColor" d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0Z"/>',n=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},r[0]],l={};for(let t=0;t<n.length;t+=1)l=ie(l,n[t]);return{c(){e=Be("svg"),a=new xe(!0),this.h()},l(t){e=Ne(t,"svg",{viewBox:!0,width:!0,height:!0});var s=$(e);a=Se(s,!0),s.forEach(c),this.h()},h(){a.a=null,ge(e,l)},m(t,s){j(t,e,s),a.m(o,e)},p(t,[s]){ge(e,l=He(n,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s&1&&t[0]]))},i:Y,o:Y,d(t){t&&c(e)}}}function qe(r,e,a){return r.$$set=o=>{a(0,e=ie(ie({},e),_e(o)))},e=_e(e),[e]}class Re extends Me{constructor(e){super(),De(this,e,qe,Le,Ee,{})}}function ke(r){let e,a=r[2].description+"",o;return{c(){e=v("p"),o=H(a),this.h()},l(n){e=b(n,"P",{class:!0});var l=$(e);o=O(l,a),l.forEach(c),this.h()},h(){f(e,"class","text-gray-600")},m(n,l){j(n,e,l),u(e,o)},p(n,l){l&4&&a!==(a=n[2].description+"")&&me(o,a)},d(n){n&&c(e)}}}function Ae(r){let e,a,o,n,l;return a=new ue({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=v("a"),R(a.$$.fragment),o=H(`
				Dataset page`),this.h()},l(t){e=b(t,"A",{href:!0,target:!0,rel:!0,class:!0});var s=$(e);Z(a.$$.fragment,s),o=O(s,`
				Dataset page`),s.forEach(c),this.h()},h(){f(e,"href",n=r[2].datasetUrl||"https://huggingface.co/datasets/"+r[2].datasetName),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","flex items-center truncate underline underline-offset-2")},m(t,s){j(t,e,s),F(a,e,null),u(e,o),l=!0},p(t,s){(!l||s&4&&n!==(n=t[2].datasetUrl||"https://huggingface.co/datasets/"+t[2].datasetName))&&f(e,"href",n)},i(t){l||(y(a.$$.fragment,t),l=!0)},o(t){B(a.$$.fragment,t),l=!1},d(t){t&&c(e),G(a)}}}function ye(r){let e,a,o,n,l;return a=new ue({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=v("a"),R(a.$$.fragment),o=H(`
				Model website`),this.h()},l(t){e=b(t,"A",{href:!0,target:!0,class:!0,rel:!0});var s=$(e);Z(a.$$.fragment,s),o=O(s,`
				Model website`),s.forEach(c),this.h()},h(){f(e,"href",n=r[2].websiteUrl),f(e,"target","_blank"),f(e,"class","flex items-center truncate underline underline-offset-2"),f(e,"rel","noreferrer")},m(t,s){j(t,e,s),F(a,e,null),u(e,o),l=!0},p(t,s){(!l||s&4&&n!==(n=t[2].websiteUrl))&&f(e,"href",n)},i(t){l||(y(a.$$.fragment,t),l=!0)},o(t){B(a.$$.fragment,t),l=!1},d(t){t&&c(e),G(a)}}}function Ze(r){let e,a,o,n;return a=new Re({}),{c(){e=v("div"),R(a.$$.fragment),o=H("Copy direct link to model"),this.h()},l(l){e=b(l,"DIV",{class:!0});var t=$(e);Z(a.$$.fragment,t),o=O(t,"Copy direct link to model"),t.forEach(c),this.h()},h(){f(e,"class","flex items-center gap-1.5")},m(l,t){j(l,e,t),F(a,e,null),u(e,o),n=!0},p:Y,i(l){n||(y(a.$$.fragment,l),n=!0)},o(l){B(a.$$.fragment,l),n=!1},d(l){l&&c(e),G(a)}}}function Ce(r){let e,a="Reset",o,n;return{c(){e=v("button"),e.textContent=a,this.h()},l(l){e=b(l,"BUTTON",{class:!0,["data-svelte-h"]:!0}),Pe(e)!=="svelte-1ehlk8p"&&(e.textContent=a),this.h()},h(){f(e,"class","ml-auto underline decoration-gray-300 hover:decoration-gray-700")},m(l,t){j(l,e,t),o||(n=fe(e,"click",Ue(r[7])),o=!0)},p:Y,d(l){l&&c(e),o=!1,n()}}}function Fe(r){let e,a,o,n=r[0].params.model+"",l,t,s,d,w,E,L,k,z,C,W,x,ee,A,q=r[3]?"Active model":"Activate",X,J,te,N,P,V,de="System Prompt",ae,re,U,M,le,ce,g=r[2].description&&ke(r);E=new ue({props:{class:"mr-1.5 shrink-0 text-xs "}});let p=(r[2].datasetName||r[2].datasetUrl)&&Ae(r),h=r[2].websiteUrl&&ye(r);x=new je({props:{value:r[0].url.origin+oe+"?model="+r[2].id,classNames:"!border-none !shadow-none !py-0 !px-1 !rounded-md",$$slots:{default:[Ze]},$$scope:{ctx:r}}});let _=r[4]&&Ce(r);return{c(){e=v("div"),a=v("div"),o=v("h2"),l=H(n),t=D(),g&&g.c(),s=D(),d=v("div"),w=v("a"),R(E.$$.fragment),L=H(`
			Model page`),z=D(),p&&p.c(),C=D(),h&&h.c(),W=D(),R(x.$$.fragment),ee=D(),A=v("button"),X=H(q),te=D(),N=v("div"),P=v("div"),V=v("h3"),V.textContent=de,ae=D(),_&&_.c(),re=D(),U=v("textarea"),this.h()},l(i){e=b(i,"DIV",{class:!0});var m=$(e);a=b(m,"DIV",{class:!0});var S=$(a);o=b(S,"H2",{class:!0});var pe=$(o);l=O(pe,n),pe.forEach(c),t=T(S),g&&g.l(S),S.forEach(c),s=T(m),d=b(m,"DIV",{class:!0});var I=$(d);w=b(I,"A",{href:!0,target:!0,rel:!0,class:!0});var se=$(w);Z(E.$$.fragment,se),L=O(se,`
			Model page`),se.forEach(c),z=T(I),p&&p.l(I),C=T(I),h&&h.l(I),W=T(I),Z(x.$$.fragment,I),I.forEach(c),ee=T(m),A=b(m,"BUTTON",{class:!0,name:!0});var he=$(A);X=O(he,q),he.forEach(c),te=T(m),N=b(m,"DIV",{class:!0});var K=$(N);P=b(K,"DIV",{class:!0});var Q=$(P);V=b(Q,"H3",{class:!0,["data-svelte-h"]:!0}),Pe(V)!=="svelte-164tosc"&&(V.textContent=de),ae=T(Q),_&&_.l(Q),Q.forEach(c),re=T(K),U=b(K,"TEXTAREA",{rows:!0,class:!0}),$(U).forEach(c),K.forEach(c),m.forEach(c),this.h()},h(){f(o,"class","text-lg font-semibold md:text-xl"),f(a,"class","mb-5 flex flex-col gap-1.5"),f(w,"href",k=r[2].modelUrl||"https://huggingface.co/"+r[2].name),f(w,"target","_blank"),f(w,"rel","noreferrer"),f(w,"class","flex items-center truncate underline underline-offset-2"),f(d,"class","flex flex-wrap items-center gap-2 md:gap-4"),f(A,"class",J=(r[3]?"bg-gray-100":"bg-black text-white")+" my-8 flex items-center rounded-full px-3 py-1"),A.disabled=r[3],f(A,"name","Activate model"),f(V,"class","mb-1.5 text-lg font-semibold text-gray-800"),f(P,"class","flex w-full flex-row content-between"),f(U,"rows","10"),f(U,"class","w-full resize-none rounded-md border-2 bg-gray-100 p-2"),f(N,"class","flex w-full flex-col gap-2"),f(e,"class","flex flex-col items-start")},m(i,m){j(i,e,m),u(e,a),u(a,o),u(o,l),u(a,t),g&&g.m(a,null),u(e,s),u(e,d),u(d,w),F(E,w,null),u(w,L),u(d,z),p&&p.m(d,null),u(d,C),h&&h.m(d,null),u(d,W),F(x,d,null),u(e,ee),u(e,A),u(A,X),u(e,te),u(e,N),u(N,P),u(P,V),u(P,ae),_&&_.m(P,null),u(N,re),u(N,U),ve(U,r[1].customPrompts[r[0].params.model]),M=!0,le||(ce=[fe(A,"click",Ue(r[6])),fe(U,"input",r[8])],le=!0)},p(i,[m]){(!M||m&1)&&n!==(n=i[0].params.model+"")&&me(l,n),i[2].description?g?g.p(i,m):(g=ke(i),g.c(),g.m(a,null)):g&&(g.d(1),g=null),(!M||m&4&&k!==(k=i[2].modelUrl||"https://huggingface.co/"+i[2].name))&&f(w,"href",k),i[2].datasetName||i[2].datasetUrl?p?(p.p(i,m),m&4&&y(p,1)):(p=Ae(i),p.c(),y(p,1),p.m(d,C)):p&&(we(),B(p,1,1,()=>{p=null}),be()),i[2].websiteUrl?h?(h.p(i,m),m&4&&y(h,1)):(h=ye(i),h.c(),y(h,1),h.m(d,W)):h&&(we(),B(h,1,1,()=>{h=null}),be());const S={};m&5&&(S.value=i[0].url.origin+oe+"?model="+i[2].id),m&512&&(S.$$scope={dirty:m,ctx:i}),x.$set(S),(!M||m&8)&&q!==(q=i[3]?"Active model":"Activate")&&me(X,q),(!M||m&8&&J!==(J=(i[3]?"bg-gray-100":"bg-black text-white")+" my-8 flex items-center rounded-full px-3 py-1"))&&f(A,"class",J),(!M||m&8)&&(A.disabled=i[3]),i[4]?_?_.p(i,m):(_=Ce(i),_.c(),_.m(P,null)):_&&(_.d(1),_=null),m&3&&ve(U,i[1].customPrompts[i[0].params.model])},i(i){M||(y(E.$$.fragment,i),y(p),y(h),y(x.$$.fragment,i),M=!0)},o(i){B(E.$$.fragment,i),B(p),B(h),B(x.$$.fragment,i),M=!1},d(i){i&&c(e),g&&g.d(),G(E),p&&p.d(),h&&h.d(),G(x),_&&_.d(),le=!1,Ie(ce)}}}function Ge(r,e,a){let o,n,l,t,s;$e(r,Ve,k=>a(0,t=k));const d=Oe();$e(r,d,k=>a(1,s=k));const w=()=>{ne(d,s.activeModel=t.params.model,s)},E=()=>ne(d,s.customPrompts[t.params.model]=l.preprompt,s);function L(){s.customPrompts[t.params.model]=this.value,d.set(s)}return r.$$.update=()=>{var k,z;r.$$.dirty&3&&s.customPrompts[t.params.model]===void 0&&ne(d,s.customPrompts={...s.customPrompts,[t.params.model]:((k=t.data.models.find(C=>C.id===t.params.model))==null?void 0:k.preprompt)||""},s),r.$$.dirty&3&&a(4,o=s.customPrompts[t.params.model]!==((z=t.data.models.find(C=>C.id===t.params.model))==null?void 0:z.preprompt)),r.$$.dirty&3&&a(3,n=s.activeModel===t.params.model),r.$$.dirty&1&&a(2,l=t.data.models.find(C=>C.id===t.params.model))},[t,s,l,n,o,d,w,E,L]}class at extends Me{constructor(e){super(),De(this,e,Ge,Fe,Ee,{})}}export{at as component,tt as universal};
