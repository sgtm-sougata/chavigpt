import{s as X,v as Z,j as x,a as D,p as K,k,l as O,O as H,c as L,g as C,q as Q,m as _,i as W,F as f,G as z,P as Y,Z as tt,f as S,b as M,d as et,N as nt,M as at,a6 as st,X as rt,C as ot,L as lt,u as it}from"../chunks/boolean_attributes.9921dbdc.js";import{S as ct,i as ut,b as ft,c as N,a as P,m as F,d as q}from"../chunks/index.369f2cd8.js";import{S as dt,M as mt}from"../chunks/Switch.2789875d.js";import{b as pt,C as ht}from"../chunks/close.b8c63ca1.js";import{T as _t}from"../chunks/trash-can.5da0256d.js";import{p as bt}from"../chunks/parse.bee59afc.js";import{j as gt,e as vt}from"../chunks/singletons.87a67235.js";import{u as yt}from"../chunks/settings.b07edce2.js";import{g as $t}from"../chunks/index.449a376b.js";function xt(e){return gt.apply_action(e)}function kt(e){const t=JSON.parse(e);return t.data&&(t.data=bt(t.data)),t}function R(e){return HTMLElement.prototype.cloneNode.call(e)}function Et(e,t=()=>{}){const a=async({action:s,result:l,reset:i=!0,invalidateAll:o=!0})=>{l.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(e),o&&await pt()),(location.origin+location.pathname===s.origin+s.pathname||l.type==="redirect"||l.type==="error")&&xt(l)};async function n(s){var p,v,w,h;if(((p=s.submitter)!=null&&p.hasAttribute("formmethod")?s.submitter.formMethod:R(e).method)!=="post")return;s.preventDefault();const i=new URL((v=s.submitter)!=null&&v.hasAttribute("formaction")?s.submitter.formAction:R(e).action),o=new FormData(e),d=(w=s.submitter)==null?void 0:w.getAttribute("name");d&&o.append(d,((h=s.submitter)==null?void 0:h.getAttribute("value"))??"");const b=new AbortController;let E=!1;const g=await t({action:i,cancel:()=>E=!0,controller:b,get data(){return o},formData:o,get form(){return e},formElement:e,submitter:s.submitter})??a;if(E)return;let c;try{const r=await fetch(i,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:o,signal:b.signal});c=kt(await r.text()),c.type==="error"&&(c.status=r.status)}catch(r){if((r==null?void 0:r.name)==="AbortError")return;c={type:"error",error:r}}g({action:i,get data(){return o},formData:o,get form(){return e},formElement:e,update:r=>a({action:i,result:c,reset:r==null?void 0:r.reset,invalidateAll:r==null?void 0:r.invalidateAll}),result:c})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",n),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",n)}}}function G(e){let t,a;return t=new mt({props:{$$slots:{default:[wt]},$$scope:{ctx:e}}}),t.$on("close",e[9]),{c(){N(t.$$.fragment)},l(n){P(t.$$.fragment,n)},m(n,s){F(t,n,s),a=!0},p(n,s){const l={};s&1025&&(l.$$scope={dirty:s,ctx:n}),t.$set(l)},i(n){a||(S(t.$$.fragment,n),a=!0)},o(n){M(t.$$.fragment,n),a=!1},d(n){q(t,n)}}}function wt(e){let t,a,n,s="Are you sure?",l,i,o,d,b,E="This action will delete all your conversations. This cannot be undone.",y,g,c="Confirm deletion",p,v,w;return o=new ht({props:{class:"text-gray-900 group-hover:text-gray-500"}}),{c(){t=x("form"),a=x("div"),n=x("h2"),n.textContent=s,l=D(),i=x("button"),N(o.$$.fragment),d=D(),b=x("p"),b.textContent=E,y=D(),g=x("button"),g.textContent=c,this.h()},l(h){t=k(h,"FORM",{method:!0,action:!0,class:!0});var r=O(t);a=k(r,"DIV",{class:!0});var A=O(a);n=k(A,"H2",{["data-svelte-h"]:!0}),H(n)!=="svelte-1xhqmfb"&&(n.textContent=s),l=L(A),i=k(A,"BUTTON",{type:!0,class:!0});var j=O(i);P(o.$$.fragment,j),j.forEach(C),A.forEach(C),d=L(r),b=k(r,"P",{class:!0,["data-svelte-h"]:!0}),H(b)!=="svelte-y12rl8"&&(b.textContent=E),y=L(r),g=k(r,"BUTTON",{type:!0,class:!0,["data-svelte-h"]:!0}),H(g)!=="svelte-10l7129"&&(g.textContent=c),r.forEach(C),this.h()},h(){_(i,"type","button"),_(i,"class","group"),_(a,"class","flex items-start justify-between text-xl font-semibold text-gray-800"),_(b,"class","text-gray-800"),_(g,"type","submit"),_(g,"class","mt-2 rounded-full bg-red-700 px-5 py-2 text-lg font-semibold text-gray-100 ring-gray-400 ring-offset-1 transition-all focus-visible:outline-none focus-visible:ring hover:ring"),_(t,"method","post"),_(t,"action",vt+"/conversations?/delete"),_(t,"class","flex w-full flex-col gap-5 p-6")},m(h,r){W(h,t,r),f(t,a),f(a,n),f(a,l),f(a,i),F(o,i,null),f(t,d),f(t,b),f(t,y),f(t,g),p=!0,v||(w=[z(i,"click",st(e[7])),rt(Et.call(null,t,e[8]))],v=!0)},p:ot,i(h){p||(S(o.$$.fragment,h),p=!0)},o(h){M(o.$$.fragment,h),p=!1},d(h){h&&C(t),q(o),v=!1,lt(w)}}}function Ct(e){let t,a,n="<h2>Application Settings</h2>",s,l,i,o,d,b,E,y,g="Hide emoticons in conversation topics",c,p,v,w,h,r,A,j,U=$t==="1";function J(m){e[5](m)}let V={name:"hideEmojiOnSidebar"};e[1].hideEmojiOnSidebar!==void 0&&(V.checked=e[1].hideEmojiOnSidebar),d=new dt({props:V}),Z.push(()=>ft(d,"checked",J)),v=new _t({props:{class:"mr-2 inline text-sm text-red-500"}});let u=e[0]&&G(e);return{c(){t=x("div"),a=x("div"),a.innerHTML=n,s=D(),l=x("div"),i=D(),o=x("label"),N(d.$$.fragment),E=D(),y=x("div"),y.textContent=g,c=D(),p=x("button"),N(v.$$.fragment),w=K("Delete all conversations"),h=D(),u&&u.c(),this.h()},l(m){t=k(m,"DIV",{class:!0});var $=O(t);a=k($,"DIV",{class:!0,["data-svelte-h"]:!0}),H(a)!=="svelte-hexbo0"&&(a.innerHTML=n),s=L($),l=k($,"DIV",{class:!0});var T=O(l);i=L(T),o=k(T,"LABEL",{class:!0});var I=O(o);P(d.$$.fragment,I),E=L(I),y=k(I,"DIV",{class:!0,["data-svelte-h"]:!0}),H(y)!=="svelte-14a9pnh"&&(y.textContent=g),I.forEach(C),c=L(T),p=k(T,"BUTTON",{type:!0,class:!0});var B=O(p);P(v.$$.fragment,B),w=Q(B,"Delete all conversations"),B.forEach(C),T.forEach(C),h=L($),u&&u.l($),$.forEach(C),this.h()},h(){_(a,"class","flex items-start justify-between text-xl font-semibold text-gray-800"),_(y,"class","inline cursor-pointer select-none items-center gap-2 pl-2"),_(o,"class","mt-6 flex items-center"),_(p,"type","submit"),_(p,"class","mt-6 flex items-center underline decoration-gray-300 underline-offset-2 hover:decoration-gray-700"),_(l,"class","flex h-full flex-col gap-4 pt-4 max-sm:pt-0"),_(t,"class","flex w-full flex-col gap-5")},m(m,$){W(m,t,$),f(t,a),f(t,s),f(t,l),f(l,i),f(l,o),F(d,o,null),f(o,E),f(o,y),f(l,c),f(l,p),F(v,p,null),f(p,w),f(t,h),u&&u.m(t,null),r=!0,A||(j=z(p,"click",Y(e[6])),A=!0)},p(m,[$]){const T={};!b&&$&2&&(b=!0,T.checked=m[1].hideEmojiOnSidebar,tt(()=>b=!1)),d.$set(T),m[0]?u?(u.p(m,$),$&1&&S(u,1)):(u=G(m),u.c(),S(u,1),u.m(t,null)):u&&(it(),M(u,1,1,()=>{u=null}),et())},i(m){r||(S(U),S(d.$$.fragment,m),S(v.$$.fragment,m),S(u),r=!0)},o(m){M(U),M(d.$$.fragment,m),M(v.$$.fragment,m),M(u),r=!1},d(m){m&&C(t),q(d),q(v),u&&u.d(),A=!1,j()}}}function At(e,t,a){let n,s=!1;const l=nt();let i=yt();at(e,i,c=>a(1,n=c));function o(c){e.$$.not_equal(n.shareConversationsWithModelAuthors,c)&&(n.shareConversationsWithModelAuthors=c,i.set(n))}function d(c){e.$$.not_equal(n.hideEmojiOnSidebar,c)&&(n.hideEmojiOnSidebar=c,i.set(n))}return[s,n,l,i,o,d,()=>a(0,s=!0),()=>a(0,s=!1),()=>{l("close")},()=>a(0,s=!1)]}class Nt extends ct{constructor(t){super(),ut(this,t,At,Ct,X,{})}}export{Nt as component};
